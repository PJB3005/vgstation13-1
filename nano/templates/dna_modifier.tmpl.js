NanoTemplate.preloadTemplate("dna_modifier.tmpl", "<!--\nTitle: DNA Modifier UI\nUsed In File(s): code\\game\\dna\\dna_modifier.dm\n -->\n<h3>Status</h3>\n\n<div class=\"statusDisplay\">\n\t{{if !data.hasOccupant}}\n\t\t<div class=\"line\">Cell Unoccupied</div>\n\t{{else}}\n\t\t<div class=\"line\">\n\t\t\t{{:data.occupant.name}}&nbsp;=>&nbsp;\n\t\t\t{{if data.occupant.stat == 0}}\n\t\t\t\t<span class=\"good\">Conscious</span>\n\t\t\t{{else data.occupant.stat == 1}}\n\t\t\t\t<span class=\"average\">Unconscious</span>\n\t\t\t{{else}}\n\t\t\t\t<span class=\"bad\">DEAD</span>\n\t\t\t{{/if}}\n\t\t</div>\n\n\t\t{{if !data.occupant.isViableSubject || !data.occupant.uniqueIdentity || !data.occupant.structuralEnzymes}}\n\t\t\t<div class=\"notice\">\n\t\t\t\tThe occupant\'s DNA structure is ruined beyond recognition, please insert a subject with an intact DNA structure.\n\t\t\t</div>\n\t\t{{else data.occupant.stat < 2}}\n\t\t\t<div class=\"line\">\n\t\t\t\t<div class=\"statusLabel\">Health:</div>\n\t\t\t\t\t{{if data.occupant.health >= 0}}\n\t\t\t\t\t\t{{:helper.displayBar(data.occupant.health, 0, data.occupant.maxHealth, \'good\')}}\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t{{:helper.displayBar(data.occupant.health, 0, data.occupant.minHealth, \'average alignRight\')}}\n\t\t\t\t\t{{/if}}\n\t\t\t\t<div class=\"statusValue\">{{:helper.round(data.occupant.health)}}</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"line\">\n\t\t\t\t<div class=\"statusLabel\">Radiation:</div>\n\t\t\t\t\t{{:helper.displayBar(data.occupant.radiationLevel, 0, 100, \'average\')}}\n\t\t\t\t<div class=\"statusValue\">{{:helper.round(data.occupant.radiationLevel)}}</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"line\">\n\t\t\t\t<div class=\"statusLabel\">Unique Enzymes:</div>\n\t\t\t\t<div class=\"statusValue\">{{:data.occupant.uniqueEnzymes ? data.occupant.uniqueEnzymes : \'<span class=\"bad\">Unknown</span>\'}}</div>\n\t\t\t</div>\n\n\t\t\t<!--<div class=\"line\">\n\t\t\t\t<div class=\"statusLabel\"><small>Unique Identifier:</small></div>\n\t\t\t\t<div class=\"statusValue\"><small>{{:data.occupant.uniqueIdentity}}</small></div>\n\t\t\t</div>\n\n\t\t\t<div class=\"line\">\n\t\t\t\t<div class=\"statusLabel\"><small>Structural Enzymes:</small></div>\n\t\t\t\t<div class=\"statusValue\"><small>{{:data.occupant.structuralEnzymes}}</small></div>\n\t\t\t</div>-->\n\t\t{{/if}}\n\t{{/if}}\n    <div class=\"clearBoth\"></div>\n</div>\n\n<h3>Operations</h3>\n<div class=\"item\">\n\t{{:helper.link(\'Modify U.I.\', \'link\', {\'selectMenuKey\' : \'ui\'}, data.selectedMenuKey == \'ui\' ? \'selected\' : null)}}\n\t{{:helper.link(\'Modify S.E.\', \'link\', {\'selectMenuKey\' : \'se\'}, data.selectedMenuKey == \'se\' ? \'selected\' : null)}}\n\t{{:helper.link(\'Transfer Buffers\', \'disk\', {\'selectMenuKey\' : \'buffer\'}, data.selectedMenuKey == \'buffer\' ? \'selected\' : null)}}\n\t{{:helper.link(\'Rejuvenators\', \'plusthick\', {\'selectMenuKey\' : \'rejuvenators\'}, data.selectedMenuKey == \'rejuvenators\' ? \'selected\' : null)}}\n</div>\n\n<div class=\"item\">&nbsp;</div>\n\n{{if !data.selectedMenuKey || data.selectedMenuKey == \'ui\'}}\n\t<h3>Modify Unique Identifier</h3>\n    {{:helper.displayDNABlocks(data.occupant.uniqueIdentity, data.selectedUIBlock, data.selectedUISubBlock, data.dnaBlockSize, \'UI\', data.block_labels)}}\n    <div class=\"clearBoth\"></div>\n\t<div class=\"item\">\n\t\t<div class=\"itemLabelNarrow\">\n\t\t\tTarget:\n\t\t</div>\n\t\t<div class=\"itemContentWide\">\n\t\t\t{{:helper.link(\'-\', null, {\'changeUITarget\' : 0}, (data.selectedUITarget > 0) ? null : \'disabled\')}}\n            <div class=\"statusValue\">&nbsp;{{:data.selectedUITargetHex}}&nbsp;</div>\n            {{:helper.link(\'+\', null, {\'changeUITarget\' : 1}, (data.selectedUITarget < 15) ? null : \'disabled\')}}\n\t\t</div>\n\t</div>\n    <div class=\"item\">\n\t\t<div class=\"itemContentWide\">\n\t\t\t{{:helper.link(\'Irradiate Block\', \'radiation\', {\'pulseUIRadiation\' : 1}, !data.occupant.isViableSubject ? \'disabled\' : null)}}\n\t\t</div>\n\t</div>\n\n{{else data.selectedMenuKey == \'se\'}}\n\t<h3>Modify Structural Enzymes</h3>\n    {{:helper.displayDNABlocks(data.occupant.structuralEnzymes, data.selectedSEBlock, data.selectedSESubBlock, data.dnaBlockSize, \'SE\', data.block_labels)}}\n    <div class=\"clearBoth\"></div>\n    <div class=\"item\">\n\t\t<div class=\"itemContentWide\">\n\t\t\t{{:helper.link(\'Irradiate Block\', \'radiation\', {\'pulseSERadiation\' : 1}, !data.occupant.isViableSubject ? \'disabled\' : null)}}\n\t\t</div>\n\t</div>\n\t{{if !data.hasDisk}}\n\t\t<div class=\"item\">\n\t\t\t<span class=\"highlight\">Label auto-backup: </span> <span class=\"average\">DISABLED - No disk!</span>\n\t\t</div>\n\t{{else data.isDiskProtected}}\n\t\t<div class=\"item\">\n\t\t\t<span class=\"highlight\">Label auto-backup: </span> <span class=\"average\">DISABLED - Disk is read-only!</span>\n\t\t</div>\n\t{{else}}\n\t{{/if}}\n\t\n{{else data.selectedMenuKey == \'buffer\'}}\n\t<h3>Transfer Buffers</h3>\n\t{{for data.buffers}}\n\t\t<h4>Buffer {{:(index + 1)}}</h4>\n\t\t<div class=\"itemGroup\">\n\t\t\t<div class=\"item\">\n\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\tLoad Data:\n\t\t\t\t</div>\n\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t{{:helper.link(\'Subject U.I.\', \'link\', {\'bufferOption\' : \'saveUI\', \'bufferId\' : (index + 1)}, !data.hasOccupant ? \'disabled\' : null)}}\n\t\t\t\t\t{{:helper.link(\'Subject U.I. + U.E.\', \'link\', {\'bufferOption\' : \'saveUIAndUE\', \'bufferId\' : (index + 1)}, !data.hasOccupant ? \'disabled\' : null)}}\n\t\t\t\t\t{{:helper.link(\'Subject S.E.\', \'link\', {\'bufferOption\' : \'saveSE\', \'bufferId\' : (index + 1)}, !data.hasOccupant ? \'disabled\' : null)}}\n\t\t\t\t\t{{:helper.link(\'From Disk\', \'disk\', {\'bufferOption\' : \'loadDisk\', \'bufferId\' : (index + 1)}, (!data.hasDisk || !data.disk.data) ? \'disabled\' : null)}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{{if value.data}}\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\t\tLabel:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t{{:helper.link(value.label, \'document-b\', {\'bufferOption\' : \'changeLabel\', \'bufferId\' : (index + 1)})}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\t\tSubject:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t{{:value.owner ? value.owner : \'<span class=\"average\">Unknown</span>\'}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\t\tStored Data:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t{{:value.data == \'ui\' ? \'Unique Identifiers\' : \'Structural Enzymes\'}}\n\t\t\t\t\t\t{{:value.ue ? \' + Unique Enzymes\' : \'\'}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{{else}}\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t<span class=\"highlight\">This buffer is empty.</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{{/if}}\n\t\t\t<div class=\"item\">\n\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\tOptions:\n\t\t\t\t</div>\n\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t{{:helper.link(\'Clear\', \'trash\', {\'bufferOption\' : \'clear\', \'bufferId\' : (index + 1)}, !value.data ? \'disabled\' : null)}}\n\t\t\t\t\t{{:helper.link(\'Injector\', data.isInjectorReady ? \'pencil\' : \'clock\', {\'bufferOption\' : \'createInjector\', \'bufferId\' : (index + 1)}, (!data.isInjectorReady || !value.data) ? \'disabled\' : null)}}\n\t\t\t\t\t{{:helper.link(\'Block Injector\', data.isInjectorReady ? \'pencil\' : \'clock\', {\'bufferOption\' : \'createInjector\', \'bufferId\' : (index + 1), \'createBlockInjector\' : 1}, (!data.isInjectorReady || !value.data) ? \'disabled\' : null)}}\n\t\t\t\t\t{{:helper.link(\'Transfer\', \'radiation\', {\'bufferOption\' : \'transfer\', \'bufferId\' : (index + 1)}, (!data.hasOccupant || !value.data) ? \'disabled\' : null)}}\n\t\t\t\t\t{{:helper.link(\'Save To Disk\', \'disk\', {\'bufferOption\' : \'saveDisk\', \'bufferId\' : (index + 1)}, (!value.data || !data.hasDisk) ? \'disabled\' : null)}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{{/for}}\n\n\t<h4>Data Disk</h4>\n\t<div class=\"itemGroup\">\n\t\t{{if data.hasDisk}}\n\t\t\t{{if data.disk.data}}\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\t\tLabel:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t{{:data.disk.label ? data.disk.label : \'No Label\'}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\t\tSubject:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t{{:data.disk.owner ? data.disk.owner : \'<span class=\"average\">Unknown</span>\'}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\t\t\tStored Data:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t{{:data.disk.data == \'ui\' ? \'Unique Identifiers\' : \'Structural Enzymes\'}}\n\t\t\t\t\t\t{{:data.disk.ue ? \' + Unique Enzymes\' : \'\'}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{{else}}\n\t\t\t\t<div class=\"item\">\n\t\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t\t<span class=\"average\">No DNA stored in disk.</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{{/if}}\n\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\tCopy SE labels:\n\t\t\t</div>\n\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t{{:helper.link(\'Copy to Disk\', \'arrowthickstop-1-s\', {\'copyLabelsToDisk\' : 1}, null)}}\n\t\t\t\t{{:helper.link(\'Copy from Disk\', \'arrowthickstop-1-n\', {\'copyLabelsFromDisk\' : 1}, null)}}\n\t\t\t</div>\n\t\t{{else}}\n\t\t\t<div class=\"item\">\n\t\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t\t<span class=\"highlight\">No disk inserted.</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{{/if}}\n\t\t<div class=\"item\">\n\t\t\t<div class=\"itemLabelNarrow\">\n\t\t\t\tOptions:\n\t\t\t</div>\n\t\t\t<div class=\"itemContentWide\">\n\t\t\t\t{{:helper.link(\'Wipe Disk\', \'trash\', {\'bufferOption\' : \'wipeDisk\'}, (!data.hasDisk || !data.disk.data) ? \'disabled\' : null)}}\n\t\t\t\t{{:helper.link(\'Eject Disk\', \'eject\', {\'bufferOption\' : \'ejectDisk\'}, !data.hasDisk ? \'disabled\' : null)}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{else data.selectedMenuKey == \'rejuvenators\'}}\n\t<h3>Rejuvenators</h3>\n\t<div class=\"item\">\n\t\t<div class=\"itemLabelNarrow\">\n\t\t\tInject:\n\t\t</div>\n\t\t<div class=\"itemContentWide\">\n\t\t\t{{:helper.link(\'5\', \'pencil\', {\'injectRejuvenators\' : 5}, (!data.hasOccupant || !data.beakerVolume) ? \'disabled\' : null)}}\n\t\t\t{{:helper.link(\'10\', \'pencil\', {\'injectRejuvenators\' : 10}, (!data.hasOccupant || !data.beakerVolume) ? \'disabled\' : null)}}\n\t\t\t{{:helper.link(\'20\', \'pencil\', {\'injectRejuvenators\' : 20}, (!data.hasOccupant || !data.beakerVolume) ? \'disabled\' : null)}}\n\t\t\t{{:helper.link(\'30\', \'pencil\', {\'injectRejuvenators\' : 30}, (!data.hasOccupant || !data.beakerVolume) ? \'disabled\' : null)}}\n\t\t\t{{:helper.link(\'50\', \'pencil\', {\'injectRejuvenators\' : 50}, (!data.hasOccupant || !data.beakerVolume) ? \'disabled\' : null)}}\n\t\t</div>\n\t</div>\n\t<div class=\"item\">&nbsp;</div>\n\t<div class=\"item\">\n\t\t<div class=\"itemLabelNarrow\">\n\t\t\tBeaker:\n\t\t</div>\n\t\t<div class=\"itemContentWide\" style=\"width: 40%;\">\n\t\t\t{{if data.isBeakerLoaded}}\n\t\t\t\t{{:data.beakerLabel ? data.beakerLabel : \'<span class=\"average\">No label</span>\'}}<br>\n\t\t\t\t{{if data.beakerVolume}}\n\t\t\t\t\t<span class=\"highlight\">{{:data.beakerVolume}} units remaining</span><br>\n\t\t\t\t{{else}}\n\t\t\t\t\t<span class=\"bad\">Beaker is empty</span>\n\t\t\t\t{{/if}}\n\t\t\t{{else}}\n\t\t\t\t<span class=\"average\"><i>No beaker loaded</i></span>\n\t\t\t{{/if}}\n\t\t</div>\n\t\t<div class=\"itemContentWide\" style=\"width: 26%;\">\n\t\t\t{{:helper.link(\'Eject Beaker\', \'eject\', {\'ejectBeaker\' : 1}, data.isBeakerLoaded ? null : \'disabled\')}}\n\t\t</div>\n\t</div>\n{{/if}}\n\n<div class=\"item\">&nbsp;</div>\n\n{{if !data.selectedMenuKey || data.selectedMenuKey == \'ui\' || data.selectedMenuKey == \'se\'}}\n\t<h3>Radiation Emitter Settings</h3>\n\t<div class=\"item\">\n\t\t<div class=\"itemLabelNarrow\">\n\t\t\tIntensity:\n\t\t</div>\n\t\t<div class=\"itemContentWide\">\n\t\t\t{{:helper.link(\'-\', null, {\'radiationIntensity\' : 0}, (data.radiationIntensity > 1) ? null : \'disabled\')}}\n            <div class=\"statusValue\">&nbsp;{{:data.radiationIntensity}}&nbsp;</div>\n            {{:helper.link(\'+\', null, {\'radiationIntensity\' : 1}, (data.radiationIntensity < 10) ? null : \'disabled\')}}\n\t\t</div>\n\t</div>\n\t<div class=\"item\">\n\t\t<div class=\"itemLabelNarrow\">\n\t\t\tDuration:\n\t\t</div>\n\t\t<div class=\"itemContentWide\">\n\t\t\t{{:helper.link(\'-\', null, {\'radiationDuration\' : 0}, (data.radiationDuration > 2) ? null : \'disabled\')}}\n            <div class=\"statusValue\">&nbsp;{{:data.radiationDuration}}&nbsp;</div>\n            {{:helper.link(\'+\', null, {\'radiationDuration\' : 1}, (data.radiationDuration < 20) ? null : \'disabled\')}}\n\t\t</div>\n\t</div>\n\t<div class=\"item\">\n\t\t<div class=\"itemLabelNarrow\">\n\t\t\t&nbsp;\n\t\t</div>\n\t\t<div class=\"itemContentWide\">\n\t\t\t{{:helper.link(\'Pulse Radiation\', \'radiation\', {\'pulseRadiation\' : 1}, !data.hasOccupant ? \'disabled\' : null)}}\n\t\t</div>\n\t</div>\n{{/if}}\n\n<div class=\"item\">&nbsp;</div>\n\n<hr>\n\n<div class=\"item\">\n\t<div class=\"itemLabelNarrow\">\n\t\tOccupant:\n\t</div>\n\t<div class=\"itemContentWide\">\n\t\t{{:helper.link(\'Eject Occupant\', \'eject\', {\'ejectOccupant\' : 1}, data.locked || !data.hasOccupant || data.irradiating ? \'disabled\' : null)}}\n\t</div>\n</div>\n<div class=\"item\">\n\t<div class=\"itemLabelNarrow\">\n\t\tDoor Lock:\n\t</div>\n\t<div class=\"itemContentWide\">\n\t\t{{:helper.link(\'Engaged\', \'locked\', {\'toggleLock\' : 1}, data.locked ? \'selected\' : !data.hasOccupant ? \'disabled\' : null)}}\n        {{:helper.link(\'Disengaged\', \'unlocked\', {\'toggleLock\' : 1}, !data.locked ? \'selected\' : data.irradiating ? \'disabled\' : null)}}\n\t</div>\n</div>\n\n{{if data.irradiating}}\n\t<div class=\"mask\">\n\t\t<div class=\"maskContent\">\n\t\t\t<h1>Irradiating Subject</h1>\n\t\t\t<h3>For {{:data.irradiating}} seconds.</h3>\n\t\t</div>\n\t</div>\n{{/if}}\n");