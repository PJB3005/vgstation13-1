NanoTemplate.preloadTemplate("geoscanner.tmpl", "<!-- \nTitle: Radiometric Scanner UI \nUsed In File(s): \\code\\modules\\research\\xenoarchaeology\\machinery\\geosample_scanner.dm\n -->\n \n<h3>Machine Status</h3>\n<div class=\"item\">\n\t<div class=\"itemContent\" style=\"width: 20%;\">\n\t\t{{:helper.link(data.scanning ? \'Halt Scan\' : \'Begin Scan\', \'signal-diag\', {\'scanItem\' : 1}, null)}}\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 20%;\">\n\t\t{{:helper.link(\'Eject item\', \'eject\', {\'ejectItem\' : 1}, (data.scanned_item && !data.scanning) ? null : \'disabled\')}}\n\t</div>\n</div>\n\n<div class=\"statusDisplay\">\n\t<div class=\"line\">\n\t\t<div class=\"statusLabel\">Item:</div>\n\t\t<div class=\"statusValue\">\n\t\t\t{{if data.scanned_item}}\n\t\t\t\t<span class=\"good\">{{:data.scanned_item}}</span>\n\t\t\t{{else}}\n\t\t\t\t<span class=\"bad\">No item inserted</span>\n\t\t\t{{/if}}\n\t\t</div>\n\t</div>\n\t<div class=\"line\">\n\t\t<div class=\"statusLabel\">Heuristic analysis:</div>\n\t\t<div class=\"statusValue\">\n\t\t\t{{if data.scanned_item_desc}}\n\t\t\t\t<span class=\"average\">{{:data.scanned_item_desc}}</span>\n\t\t\t{{/if}}\n\t\t</div>\n\t</div>\n</div>\n\n<h3>Scanner</h3>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Scan progress:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.scan_progress, 0, 100, \'good\')}}\n\t\t{{:data.scan_progress}} %\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 44%;\">\n\t\t{{if data.scan_progress >= 100}}\n\t\t\t<span class=\"notice\" style=\"width: 100%;\">Scan completed successfully.</span>\n\t\t{{/if}}\n\t</div>\n</div>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Vacuum seal integrity:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.scanner_seal_integrity, 0, 100, ((data.scanner_seal_integrity < 66) ? ((data.scanner_seal_integrity < 33) ? \'bad\' : \'average\') : \'good\'))}}\n\t\t{{:data.scanner_seal_integrity}} %\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 44%;\">\n\t\t{{if data.scanner_seal_integrity < 25}}\n\t\t\t<span class=\"notice\">Warning! Vacuum seal breach will result in scan failure!</span>\n\t\t{{/if}}\n\t</div>\n</div>\n\n<h3>MASER</h3>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">MASER Efficiency:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.maser_efficiency, 1, 100, ((data.maser_efficiency < 66) ? ((data.maser_efficiency) < 33 ? \'bad\' : \'average\') : \'good\'))}}\n\t\t{{:data.maser_efficiency}} %\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 44%;\">\n\t\t{{if data.maser_efficiency < 50}}\n\t\t\t<span class=\"notice\">Match wavelengths to progress the scan.</span>\n\t\t{{/if}}\n\t</div>\n</div>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Optimal Wavelength:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.optimal_wavelength, 1, 10000, \'good\')}}\n\t\t{{:data.optimal_wavelength}} MHz\n\t</div>\n</div>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Current Wavelength:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.maser_wavelength, 1, 10000, \'good\')}}\n\t\t{{:data.maser_wavelength}} MHz\n\t</div>\n\t<div class=\"itemContent\" style=\"text-align:left; width: 22%;\">\n\t\t{{:helper.link(\'-2 KHz\', null, {\'maserWavelength\' : -2}, null)}}\n\t\t{{:helper.link(\'-1 KHz\', null, {\'maserWavelength\' : -1}, null)}}\n\t\t{{:helper.link(\'-0.5 KHz\', null, {\'maserWavelength\' : -0.5}, null)}}\n\t</div>\n\t<div class=\"itemContent\" style=\"text-align:right; width: 22%;\">\n\t\t{{:helper.link(\'+0.5 KHz\', null, {\'maserWavelength\' : 0.5}, null)}}\n\t\t{{:helper.link(\'+1 KHz\', null, {\'maserWavelength\' : 1}, null)}}\n\t\t{{:helper.link(\'+2 KHz\', null, {\'maserWavelength\' : 2}, null)}}\n\t</div>\n</div>\n\n<h3>Environment / Internal</h3>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Centrifuge speed:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.scanner_rpm, 0, 1000, \'good\')}}\n\t\t{{:data.scanner_rpm}} RPM\n\t</div>\n</div>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Internal temperature:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.scanner_temperature, 0, 1273, (data.scanner_temperature > 250 ? (data.scanner_temperature > 1000 ? \'bad\' : \'average\') : \'good\')))}}\n\t\t{{:data.scanner_temperature}} K\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 44%;\">\n\t\t{{if data.scanner_temperature > 1000}}\n\t\t\t<span class=\"notice\" style=\"width: 100%;\">Warning! Exceeding 1200K will result in scan failure!</span>\n\t\t{{/if}}\n\t</div>\n</div>\n\n<h3>Radiation</h3>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Ambient radiation:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.radiation, 0, 100, ((data.radiation > 15) ? ((data.radiation > 65) ? \'bad\' : \'average\') : \'good\'))}}\n\t\t{{:data.radiation}} mSv\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 44%;\">\n\t\t{{:helper.link(data.rad_shield_on ? \'Disable Radiation Shielding\' : \'Enable Radiation Shielding\', \'radiation\', {\'toggle_rad_shield\' : 1}, null)}}\n\t\t{{if data.rad_shield_on}}\n\t\t\t<span class=\"notice\" style=\"width: 100%;\">Shield blocking scanner.</span>\n\t\t{{/if}}\n\t</div>\n</div>\n\n<h3>Cooling</h3>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Coolant remaining:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.unused_coolant_per, 0, 100, ((data.unused_coolant_per < 66) ? ((data.unused_coolant_per < 33) ? \'bad\' : \'average\') : \'good\'))}}\n\t\t{{:data.unused_coolant_abs}} u\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 44%;\">\n\t\t{{if data.unused_coolant_per < 20}}\n\t\t\t<span class=\"notice\" style=\"width: 100%;\">Warning! Coolant stocks low!</span>\n\t\t{{/if}}\n\t</div>\n</div>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Coolant flow rate:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.coolant_usage_rate, 0, 10, \'good\')}}\n\t\t{{:data.coolant_usage_rate}} u/s\n\t</div>\n\t<div class=\"itemContent\" style=\"text-align:left; width: 22%;\">\n\t\t{{:helper.link(\'Min u/s\', null, {\'coolantRate\' : -10}, null)}}\n\t\t{{:helper.link(\'-3 u/s\', null, {\'coolantRate\' : -3}, null)}}\n\t\t{{:helper.link(\'-1 u/s\', null, {\'coolantRate\' : -1}, null)}}\n\t</div>\n\t<div class=\"itemContent\" style=\"text-align:right; width: 22%;\">\n\t\t{{:helper.link(\'+1 u/s\', null, {\'coolantRate\' : 1}, null)}}\n\t\t{{:helper.link(\'+3 u/s\', null, {\'coolantRate\' : 3}, null)}}\n\t\t{{:helper.link(\'Max u/s\', null, {\'coolantRate\' : 10}, null)}}\n\t</div>\n</div>\n<div class=\"item\">\n\t<div class=\"itemLabel\" style=\"width: 21%;\">Coolant purity:</div>\n\t<div class=\"itemContent\" style=\"width: 35%;\">\n\t\t{{:helper.displayBar(data.coolant_purity, 0, 100, ((data.coolant_purity < 66) ? ((data.coolant_purity < 33) ? \'bad\' : \'average\') : \'good\'))}}\n\t\t{{:data.coolant_purity}} %\n\t</div>\n\t<div class=\"itemContent\" style=\"width: 44%;\">\n\t\t{{if data.coolant_purity < 0.5}}\n\t\t\t<span class=\"notice\" style=\"width: 100%;\">Warning! Check coolant for contaminants!</span>\n\t\t{{/if}}\n\t</div>\n</div>\n\n<h3>Latest Results</h3>\n<div class=\"statusDisplay\">\n\t<div class=\"line\">\n\t\t<span class=\"highlight\">{{:data.last_scan_data}}</span>\n\t</div>\n</div>\n");