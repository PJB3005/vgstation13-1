NanoTemplate.preloadTemplate("disease_isolation_centrifuge.tmpl", "<!-- used by /obj/machinery/disease2/centrifuge -->\n\n<div class=\"item\">\n\t<div class=\"itemLabel\">\n\t\tPower Status:\n\t</div>\n\t<div class=\"itemContent\">\n\t\t{{:helper.link(\'On\', \'power\', {\'power\' : 1}, data.on ? \'selected\' : null)}}{{:helper.link(\'Off\', \'close\', {\'power\' : 1}, data.on ? null : \'selected\')}}\n\t</div>\n</div>\n\n<h3>Vials</h3>\n\n<table class=\"statusDisplay\">\n\t{{for data.vials}}\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t{{if index === 1}}\n\t\t\t\t\t<div class=\"uiIcon16 icon-arrow-1-n\">\n\t\t\t\t{{else index === 2}}\n\t\t\t\t\t<div class=\"uiIcon16 icon-arrow-1-e\">\n\t\t\t\t{{else index === 3}}\n\t\t\t\t\t<div class=\"uiIcon16 icon-arrow-1-s\">\n\t\t\t\t{{else}}\n\t\t\t\t\t<div class=\"uiIcon16 icon-arrow-1-w\">\n\t\t\t\t{{/if}}\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t{{if !value.inserted}}\n\t\t\t\t<!-- No vial inserted, show blank. -->\n\t\t\t\t<td style=\"min-width: 65px\">\n\t\t\t\t\t{{:helper.link(\'Insert\', data.on ? \'locked\' : \'arrowstop-1-s\', {\'insertvial\' : index+1}, data.on ? \'disabled\' : null, \'wide\')}}\n\t\t\t\t</td>\n\t\t\t\t<td style=\"min-width: 50px\">\n\t\t\t\t\tempty\n\t\t\t\t</td>\n\t\t\t{{else}}\n\t\t\t\t<!-- Vial inserted -->\n\t\t\t\t<td style=\"min-width: 65px\">\n\t\t\t\t\t{{:helper.link(\'Eject\', data.on ? \'locked\' : \'eject\', {\'ejectvial\' : index+1}, data.on ? \'disabled\' : null, \'wide\')}}\n\t\t\t\t</td>\n\t\t\t\t<td style=\"min-width: 50px\">\n\t\t\t\t\t{{>value.name}}\n\t\t\t\t</td>\n\t\t\t\t{{if !value.task_type}}\n\t\t\t\t\t<!-- no active task, display options and info. -->\n\t\t\t\t\t{{if value.display_reagent === null}}\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\tno blood detected\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{{else value.display_reagent === \"vaccine\"}}\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\tvaccine ({{>value.vaccines}})\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{{else value.display_reagent === \"blood\"}}\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\tblood ({{:value.has_pathogen ? \'pathogen detected\' : \'no pathogen detected\'}})\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t{{if value.has_pathogen}}\n\t\t\t\t\t\t\t\t{{:helper.link(\'Isolate\', \'arrowstop-1-s\', {\'isolate\': index+1}, null, \'wide\')}}\n\t\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t{{:helper.link(value.has_antibodies ? \'Vaccine\' : \'Vaccine (antibody density too low)\', \'plus\', {\'synthvaccine\': index+1}, value.has_antibodies ? null : \'disabled\', \'wide\')}}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t{{/if}}\n\t\t\t\t{{else}}\n\t\t\t\t\t<!-- Active task, display type, progress & cancel button. -->\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{{if value.task_type === \'dish\'}}\n\t\t\t\t\t\t\tisolating\n\t\t\t\t\t\t{{else}}\n\t\t\t\t\t\t\tsynthesizing vaccine\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t\t ({{>value.task_target_name}})\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{{:helper.link(\'Cancel\', \'cancel\', {\'interrupt\': index+1}, null, \'wide\')}}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td style=\"min-width: 100px\">\n\t\t\t\t\t\t{{:helper.displayBar(value.task_progress, 0, 100, \'wide\', helper.round(value.task_progress) + \'%\')}}\n\t\t\t\t\t</td>\n\t\t\t\t{{/if}}\n\t\t\t{{/if}}\n\t\t</tr>\n\t{{/for}}\n</table>\n\n<h3>Status</h3>\n\n{{if data.on && data.imbalance >= 20}}\n<div class=\"notice\">\n\tWARNING: Load severely unbalanced. Throttling performance for safety.\n</div>\n{{/if}}\n\n<div class=\"item\">\n\t<div class=\"itemLabel\">\n\t\tVial Chamber Lock:\n\t</div>\n\t<div class=\"itemContent\">\n\t\t<span class=\'good\'>\n\t\t{{if data.on}}\n\t\t\tSecured\n\t\t{{else}}\n\t\t\tUnlocked\n\t\t{{/if}}\n\t\t</span>\n\t</div>\n\t<div class=\"itemLabel\">\n\t\t\tPower Usage:\n\t\t</div>\n\t\t<div class=\"itemContent\">\n\t\t\t{{if data.on}}\n\t\t\t<span class=\'average\'>\n\t\t\t\tHigh\n\t\t\t{{else}}\n\t\t\t<span class=\'good\'>\n\t\t\t\tLow\n\t\t\t{{/if}}\n\t\t\t</span>\n\t\t</div>\n\t<div class=\"itemLabel\">\n\t\tCurrent RPM:\n\t</div>\n\t<div class=\"itemContent\">\n\t\t{{if !data.on}}\n\t\t\t<span class=\"good\">0</span>\n\t\t{{else}}\n\t\t\t{{if data.efficiency === data.base_efficiency}}\n\t\t\t<span class=\"good\">\n\t\t\t{{else}}\n\t\t\t<span class=\"average\">\n\t\t\t{{/if}}\n\t\t\t<!-- Some quick googles gave me ~2 kRPM for separation of blood. I know it\'s not that close but oh well. -->\n\t\t\t~{{>helper.round(data.efficiency * 2000)}}\n\t\t\t</span>\n\t\t{{/if}}\n\t</div>\n</div>\n\n<div class=\"item safetyWarnings\">\n\tDo not operate without appropriate training.<br />\n\tOperating with imbalanced loads for long durations of time can result in wear of centrifuge mechanism.<br />\n\tDo not attempt to bypass centrifuge chamber locking mechanism while device is active.<br />\n\tDo not activate device if centrifuge chamber locking mechanism fails to engage.<br />\n</div>\n\n");